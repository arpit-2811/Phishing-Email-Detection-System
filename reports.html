<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PhishGuard â€” Reports</title>
  <script>window.tailwindConfig={darkMode:'class'}</script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="assets/logo.svg">
</head>
<body class="bg-gray-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100">
  <!-- NAV -->
  <header class="sticky top-0 z-40 bg-white/70 dark:bg-slate-900/70 backdrop-blur-sm border-b border-gray-100 dark:border-slate-700">
    <div class="max-w-6xl mx-auto px-6 py-3 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <img src="assets/logo.svg" class="w-10 h-10" alt="PhishGuard">
        <a href="index.html" class="font-semibold text-lg">PhishGuard</a>
      </div>
      <nav class="flex gap-4 items-center text-sm">
        <a href="index.html" class="navlink">Home</a>
        <a href="analyze.html" class="navlink">Analyze</a>
        <a href="feed.html" class="navlink">Feed</a>
        <a href="reports.html" class="navlink">Reports</a>
        <a href="login.html" class="navlink">Login</a>
        <button id="theme-toggle" class="ml-2 px-3 py-1 rounded bg-indigo-50 dark:bg-slate-700 text-indigo-600 dark:text-indigo-300">ðŸŒ™</button>
      </nav>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-6 py-8">
    <div class="flex items-center justify-between">
      <h2 class="text-xl font-semibold">Saved Reports</h2>
      <button onclick="exportReports()" class="px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm">Export</button>
    </div>

    <div class="mt-6 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border overflow-x-auto">
      <table class="min-w-full text-sm text-left">
        <thead class="bg-gray-100 dark:bg-slate-700">
          <tr>
            <th class="px-4 py-3 font-semibold">Date</th>
            <th class="px-4 py-3 font-semibold">Subject</th>
            <th class="px-4 py-3 font-semibold">Risk Score</th>
          </tr>
        </thead>
        <tbody id="reportsTable" class="divide-y divide-gray-100 dark:divide-slate-700"></tbody>
      </table>
    </div>

    <div class="mt-6 text-center text-sm text-slate-500 dark:text-slate-300">Your local analysis history (stored in browser only).</div>
  </main>

  <footer class="text-center py-6 border-t border-gray-100 dark:border-slate-700">Â© 2025 PhishGuard â€” Stay Safe, Stay Smart.</footer>

  <script src="assets/script.js"></script>
  <script>
    function exportReports(){
      const arr = JSON.parse(localStorage.getItem('pg_scans')||'[]');
      if(!arr.length) return alert('No reports found.');
      const csv = 'Date,Subject,Score\n' + arr.map(r=>`${r.date},${r.subject},${r.score}`).join('\n');
      const blob = new Blob([csv], {type:'text/csv'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'phishguard_reports.csv';
      a.click();
    }
  </script>
</body>
</html>
